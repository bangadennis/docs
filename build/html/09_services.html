

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The service catalog &mdash; Supply Chain 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="Supply Chain 0.1 documentation" href="index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Supply Chain 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The service catalog</a><ul>
<li><a class="reference internal" href="#service-categories">Service Categories</a></li>
<li><a class="reference internal" href="#services">Services</a></li>
<li><a class="reference internal" href="#options-and-service-options">Options and service options</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
<li><a class="reference internal" href="#service-options">Service Options</a></li>
<li><a class="reference internal" href="#linking-facilities-to-services">Linking facilities to services</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/09_services.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-service-catalog">
<h1>The service catalog<a class="headerlink" href="#the-service-catalog" title="Permalink to this headline">¶</a></h1>
<p>This chapter assumes that the reader is familiar with the general
principles explained in the <a class="reference internal" href="06_api.html"><em>Using the API - basic principles</em></a> chapter.</p>
<p>In order for the MFL to do its job as the keystone of the Kenyan national
health information system, there needs to be a standard registry of
services.</p>
<p>At the time when this edition of the MFL was built, no such thing existed.
The MFL therefore took on the responsibility of providing that registry.</p>
<p>This chapter concerns itself with the setup of the <strong>service catalog</strong>.
The service catalog has two primary goals:</p>
<blockquote>
<div><ul class="simple">
<li>to model healthcare services in a manner that is flexible and future proof</li>
<li>to standardize service codes</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Standardization of service codes is a pre-requisite for interoperability
between the MFL and other systems.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The flexibility will allow the MFL to keep pace with changes in healthcare
and policy.</p>
</div>
<div class="section" id="service-categories">
<h2>Service Categories<a class="headerlink" href="#service-categories" title="Permalink to this headline">¶</a></h2>
<p>Service categories are the &#8220;broad headings&#8221; under which healthcare services are
classified. An example is &#8220;Comprehensive Emergency Obstetric Care (CEOC)&#8221;, an
umbrella for services that respond to life-threatening emergency complications
and are offered by facilities whose human resources include doctors and whose
infrastructure includes operating theatres and incubators.</p>
<p>Existing service categories can be listed by issuing a <code class="docutils literal"><span class="pre">GET</span></code> to
<code class="docutils literal"><span class="pre">/api/facilities/service_categories/</span></code>.</p>
<p>To add a new service category, <code class="docutils literal"><span class="pre">POST</span></code> to the same URL a payload similar to
this:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;A new service category&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;What is it really about&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abbreviation&quot;</span><span class="o">:</span> <span class="s2">&quot;ABBR&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<p>Services are the granular &#8220;product&#8221; delivered to end users. Some examples are
&#8220;Provider Initiated Counselling and Testing&#8221; and Oral Health Services (Dental Services)&#8221;.</p>
<p>Existing services can be listed at <code class="docutils literal"><span class="pre">/api/facilities/services/</span></code>.</p>
<p>When creating a new service, <code class="docutils literal"><span class="pre">POST</span></code> the <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>,
<code class="docutils literal"><span class="pre">abbreviation</span></code> and <code class="docutils literal"><span class="pre">category</span></code>. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;A new service&quot;</span><span class="p">,</span>
    <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="s2">&quot;The best new service since bread slicing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;abbreviation&quot;</span><span class="o">:</span> <span class="s2">&quot;ANS&quot;</span><span class="p">,</span>
    <span class="s2">&quot;category&quot;</span><span class="o">:</span> <span class="s2">&quot;2bdfd814-5cba-4673-916e-96b6a98cf1c9&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Services get auto-assigned <code class="docutils literal"><span class="pre">code</span></code> s. A service code is immutable once
issued. The service codes are expected to become a standard identifier for
services.</p>
</div>
</div>
<div class="section" id="options-and-service-options">
<h2>Options and service options<a class="headerlink" href="#options-and-service-options" title="Permalink to this headline">¶</a></h2>
<p>In order to understand the options API, we&#8217;ll take a look at the Facility
Creation Form from the 2010 Master Facility List Implementation Guide
( the guiding document for the previous edition of the MFL ).</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/new_facility_form.png"><img alt="New Facility Addition Form (from the MFL Implementation Guide, 2010)" src="_images/new_facility_form.png" /></a>
</div>
<p>In the form above, many services have <code class="docutils literal"><span class="pre">Yes</span></code> and <code class="docutils literal"><span class="pre">No</span></code> options. Some services
require a numeric level ( levels <code class="docutils literal"><span class="pre">1</span></code> to <code class="docutils literal"><span class="pre">6</span></code> from the Kenya Essential
Package for Health [ KEPH ] ), while obstetric services are classified into
<code class="docutils literal"><span class="pre">Basic</span></code> or <code class="docutils literal"><span class="pre">Comp</span></code> ( comprehensive ).</p>
<p>That form is far from comprehensive ( that was found out in practice ). A naive
implementation of that form would hobble the system if a new standard
service catalog emerged.</p>
<p>This API responds to that challenge by creating a mechanism by which a service
can be associated with an arbitrary range of options.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This approach will make
API clients ( including the official web front-ends ) do a lot more work;
but in this case, we think that it is worthwhile.</p>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<p>&#8220;Options&#8221; are the possible &#8220;choices&#8221; in a service questionnare, like the one
shown above.</p>
<p>Using that example: &#8220;Yes&#8221; and &#8220;No&#8221; are options for the services under the
&#8220;HIV Prevention Services&#8221; category, while the numbers &#8220;1,2,3,4,5,6&#8221; are
options for the KEPH service classification section.</p>
<p>The known service options can be listed and created at <code class="docutils literal"><span class="pre">/api/facilities/options/</span></code>. To create a new option, you need to <code class="docutils literal"><span class="pre">POST</span></code> a payload that includes the
following fields:</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>value</td>
<td>The value that will be stored in the database, and analyzed. This should be a constant that is friendly to analytical tools e.g one that does not have unnecessary punctuation and spacing. This will be a string.</td>
</tr>
<tr class="row-odd"><td>display_text</td>
<td>The description that will be displayed to the user wherever the option appears in the user interface. This should be plain text. It cannot be blank.</td>
</tr>
<tr class="row-even"><td>is_exclusive_option</td>
<td>This is a <strong>boolean</strong> value; if <code class="docutils literal"><span class="pre">true</span></code>, only one of the exclusive options can be selected for a specific facility and service. A user interface should intepret this by implementing a control that behaves like radio buttons.</td>
</tr>
<tr class="row-odd"><td>option_type</td>
<td>The choices are <code class="docutils literal"><span class="pre">BOOLEAN</span></code>, <code class="docutils literal"><span class="pre">INTEGER</span></code>, <code class="docutils literal"><span class="pre">DECIMAL</span></code> and <code class="docutils literal"><span class="pre">TEXT</span></code>. This controls the type of response data that is valid for that option.</td>
</tr>
</tbody>
</table>
<p>Here is an example of a valid <code class="docutils literal"><span class="pre">POST</span></code> payload:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;value&quot;</span><span class="o">:</span> <span class="s2">&quot;YES&quot;</span><span class="p">,</span>
    <span class="s2">&quot;display_text&quot;</span><span class="o">:</span> <span class="s2">&quot;Yes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;is_exclusive_option&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;option_type&quot;</span><span class="o">:</span> <span class="s2">&quot;BOOLEAN&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="service-options">
<h2>Service Options<a class="headerlink" href="#service-options" title="Permalink to this headline">¶</a></h2>
<p>The service options resource is used to link services and options. To use an
example from the form above, the service &#8220;Home Based Care (HBC)&#8221; should be
linked with the options <code class="docutils literal"><span class="pre">Yes</span></code> and <code class="docutils literal"><span class="pre">No</span></code>. Service options can be viewed and
configured at <code class="docutils literal"><span class="pre">/api/facilities/service_options/</span></code>. To create a new link, you
need to know the <code class="docutils literal"><span class="pre">id</span></code> of the service and the option.</p>
<p>For example: to link an option with the <code class="docutils literal"><span class="pre">id</span></code> <code class="docutils literal"><span class="pre">53c3f729-97d1-4c9d-9fff-d2edc797b185</span></code> with the service with the <code class="docutils literal"><span class="pre">id</span></code> <code class="docutils literal"><span class="pre">80613650-f765-4032-a9d3-bb0fc9cc37cc</span></code>, <code class="docutils literal"><span class="pre">POST</span></code> to <code class="docutils literal"><span class="pre">/api/facilities/options/</span></code> the following payload:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;service&quot;</span><span class="o">:</span> <span class="s2">&quot;80613650-f765-4032-a9d3-bb0fc9cc37cc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;option&quot;</span><span class="o">:</span> <span class="s2">&quot;53c3f729-97d1-4c9d-9fff-d2edc797b185&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="linking-facilities-to-services">
<h2>Linking facilities to services<a class="headerlink" href="#linking-facilities-to-services" title="Permalink to this headline">¶</a></h2>
<p>The final step is to link a facility to the services that it offers.
<strong>Facilities are linked to services through service options.</strong></p>
<p>If the service option that we created above has the <code class="docutils literal"><span class="pre">id</span></code>
<code class="docutils literal"><span class="pre">f09af53e-5c6f-468d-a41d-df51693e51a3</span></code> and we&#8217;d like to link it to a
facility whose <code class="docutils literal"><span class="pre">id</span></code> is <code class="docutils literal"><span class="pre">c4169b23-5cbb-4ed8-a556-8a4fc43af17e</span></code>, <code class="docutils literal"><span class="pre">POST</span></code>
to <code class="docutils literal"><span class="pre">/facilities/facility_services/</span></code> the following payload:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;facility&quot;</span><span class="o">:</span> <span class="s2">&quot;c4169b23-5cbb-4ed8-a556-8a4fc43af17e&quot;</span><span class="p">,</span>
    <span class="s2">&quot;selected_option&quot;</span><span class="o">:</span> <span class="s2">&quot;f09af53e-5c6f-468d-a41d-df51693e51a3&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Supply Chain 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, sci devs.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>